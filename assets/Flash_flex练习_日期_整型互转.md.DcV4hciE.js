import{_ as s,c as i,o as a,j as t,a7 as l}from"./chunks/framework.SbOxrpL8.js";const F=JSON.parse('{"title":"Flex练习：日期  整型 互转","description":"","frontmatter":{"title":"Flex练习：日期  整型 互转","tags":["actionscript","flex"],"id":1088,"categories":["Flash"],"abbrlink":"d680d32d","date":"2009-07-22T21:22:00.000Z"},"headers":[],"relativePath":"Flash/flex练习_日期_整型互转.md","filePath":"Flash/flex练习_日期_整型互转.md","lastUpdated":1721497158000}'),h={name:"Flash/flex练习_日期_整型互转.md"},n=t("p",null,[t("embed",{width:"600",height:"384",tplayername:"SWF",splayername:"SWF",type:"application/x-shockwave-flash",src:"/images/2009/07/22_12787.swf",mediawrapchecked:"true",name:"changeTime",allowscriptaccess:"sameDomain",bgcolor:"#869ca7",quality:"high",pluginspage:"http://www.macromedia.com/go/getflashplayer",id:"changeTime"})],-1),e=l(`<p>公司的数据库，日期多是用整型（即距离1970-1-1的秒数），查看搜索啥的都要换成一般格式，就做了这么个小东西</p><p>日期转换还挺麻烦的，用的是比较笨的方法，例如 2006-2-9 23:35:56 ，用 - 切出日期，再用 : 切出时间，再set到日期对象去</p><p>这边有更好的方法，<a href="http://www.digitalpersonae.com/blog/2009/02/01/mysql-actionscript-date-formatter/" target="_blank" rel="noreferrer">http://www.digitalpersonae.com/blog/2009/02/01/mysql-actionscript-date-formatter/</a></p><p>里面用到Lite3写的一个字符串处理的类，他的博客 <a href="http://www.lite3.cn/" target="_blank" rel="noreferrer">http://www.lite3.cn/</a></p><p><s>源文件打包下载 /upload/2009/7/200907222132150351.7z</s></p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”1.0”</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”utf-8”?&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">br</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mx:Application</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xmlns:mx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”&lt;a </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">href</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://www.adobe.com/2006/mxml&quot;&quot; target=&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">_blank</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; rel=&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">noopener</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&gt;http://www.adobe.com/2006/mxml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/a&gt; layout=”absolute” width=”600” height=”384”&gt;&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">br</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">				&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mx:TextArea</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”text1” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”10” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”73” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”224” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”301” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”doit()” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">borderThickness</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”2” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">borderColor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”#00ACAE”&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">					&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">br</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">					&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mx:TextArea</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">					&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">br</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">						&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mx:TextArea</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”text2” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”360” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”73” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”224” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”301” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">editable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”false”/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">						&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">br</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">							&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mx:Button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”242” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”155” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”&lt;== </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">清空</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ==&gt;” width=”110” height=”74” fontFamily=”Arial” fontSize=”12” click=”text1.text=’’;text2.text=’’”/&gt;&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">br</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">											&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> href</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mx:Script&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;_blank&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;noopener&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;mx:Script&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">											&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">br</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">												&lt;![CDATA[&lt;br&gt;            import mx.formatters.DateFormatter;&lt;br&gt;            import cn.StringUtil;&lt;br&gt;            import mx.effects.easing.Exponential;&lt;br&gt;            function doit():void{&lt;br&gt;                text2.text = “”;&lt;br&gt;                var str:Array = text1.text.split(“\\r”);&lt;br&gt;                for(var i:int=0;i&lt;str.length;i++){&lt;br&gt;                    str[i] = cn.StringUtil.trim(str[i]);&lt;br&gt;                    var myDate:Date = new Date();&lt;br&gt;                    try{&lt;br&gt;                        if(str[i].indexOf(“-“) != -1){&lt;br&gt;                            str[i] = cn.StringUtil.replace(str[i],” “,”,”);&lt;br&gt;                            str[i] = cn.StringUtil.replace(str[i],”-“,”,”);&lt;br&gt;                            str[i] = cn.StringUtil.replace(str[i],”:”,”,”);&lt;br&gt;                            var strArr:Array = new Array();&lt;br&gt;                            strArr = str[i].split(“,”);&lt;br&gt;                            if(str[i].toString().indexOf(“NaN”) == -1 &amp;&amp; strArr.length&gt;=3){&lt;br&gt;                                for(var j:int=0;j&lt;strArr.length;j++){&lt;br&gt;                                    strArr[j] = Number(strArr[j]);&lt;br&gt;                                    if(strArr[j].toString().indexOf(“NaN”) == -1){&lt;br&gt;                                        if(j==0){&lt;br&gt;                                            myDate.setFullYear(strArr[j]);&lt;br&gt;                                        }else if(j==1){&lt;br&gt;                                            myDate.setMonth(strArr[j]-1);&lt;br&gt;                                        }else if(j==2){&lt;br&gt;                                            myDate.setDate(strArr[j]);&lt;br&gt;                                        }else if(j==3){&lt;br&gt;                                            myDate.setHours(strArr[j]);&lt;br&gt;                                        }else if(j==4){&lt;br&gt;                                            myDate.setMinutes(strArr[j]);&lt;br&gt;                                        }else if(j==5){&lt;br&gt;                                            myDate.setSeconds(strArr[j]);&lt;br&gt;                                        }&lt;br&gt;                                    }&lt;br&gt;                                }&lt;br&gt;                                text2.text += int(myDate.getTime()/1000);&lt;br&gt;                            }&lt;br&gt;                        }else if(str[i] !=””){&lt;br&gt;                            str[i] = Number(str[i]);&lt;br&gt;                            if(str[i].toString().indexOf(“NaN”) == -1){&lt;br&gt;                                myDate.setTime(str[i]*1000);&lt;br&gt;                                text2.text += myDate.getFullYear() + “-“ + (myDate.getMonth()+1) + “-“ + myDate.getDate() + “ “ + myDate.getHours() + “:” + myDate.getMinutes() + “:” + myDate.getSeconds()&lt;br&gt;                            }&lt;br&gt;                        }&lt;br&gt;                    }catch(err:Error){&lt;br&gt;                        text2.text += err.toString();&lt;br&gt;                    }&lt;br&gt;                    text2.text += “\\n”;&lt;br&gt;                }&lt;br&gt;            }&lt;br&gt;        ]]&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">												&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">br</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">												&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mx:Script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">												&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">br</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">													&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mx:Text</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”37” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”10” </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=”== 日期 &lt;=&gt; 整型 互转 ==</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">输入日期（格式为 2004-7-20 13:29:4），或者秒数（距离1970年1月1日以来的秒数）” width=”505” height=”55” fontSize=”12” color=”#FFFFFF” textAlign=”left”/&gt;&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">br</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">																&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mx:Application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div>`,6),k=[n,e];function r(p,E,g,d,y,o){return a(),i("div",{"data-pagefind-body":!0},k)}const b=s(h,[["render",r]]);export{F as __pageData,b as default};
